# features/adapter.feature
Feature: Интеграция с устаревшей банковской системой через адаптер
  Как разработчик
  Я хочу интегрировать новую систему с устаревшей
  Чтобы использовать существующую банковскую инфраструктуру

  Background:
    Given у меня есть старая банковская система
    And я создаю адаптер для старой системы

  Scenario: Отправка сообщения об оплате
    When я отправляю через адаптер сообщение "Оплата услуг ЖКХ"
    Then я должен получить результат в формате старой системы
    And результат должен содержать код "100"

  Scenario: Отправка сообщения о переводе
    When я отправляю через адаптер сообщение "Перевод между счетами"
    Then я должен получить результат в формате старой системы
    And результат должен содержать код "200"

  Scenario: Отправка сообщения об ошибке
    When я отправляю через адаптер сообщение "Ошибка авторизации"
    Then я должен получить результат в формате старой системы
    And результат должен содержать код "300"

  Scenario: Отправка неизвестного типа сообщения
    When я отправляю через адаптер сообщение "Информационное сообщение"
    Then я должен получить результат в формате старой системы
    And результат должен содержать код "0"

  Scenario Outline: Тестирование различных сообщений через адаптер
    When я отправляю через адаптер сообщение "<message>"
    Then я должен получить результат в формате старой системы
    And результат должен содержать код "<expected_code>"

    Examples:
      | message                     | expected_code |
      | оплата карты                | 100          |
      | перевод денег               | 200          |
      | ошибка системы              | 300          |
      | блокировка карты            | 400          |
      | обычное уведомление         | 0            |
      | Ежемесячная оплата услуг    | 100          |
      | Срочный перевод             | 200          |
      | Критическая ошибка          | 300          |
